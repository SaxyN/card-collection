{"ast":null,"code":"import _regeneratorRuntime from\"D:/Code/React/card-collection/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"D:/Code/React/card-collection/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _asyncToGenerator from\"D:/Code/React/card-collection/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Code/React/card-collection/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Card,CardActions,TextField,Typography,Button}from'@mui/material';import MuiAlert from\"@mui/material/Alert\";import React from'react';import{makeStyles}from'@mui/styles';import{Link,useHistory}from\"react-router-dom\";import{getAuth,signInWithEmailAndPassword}from\"firebase/auth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{mainDiv:{width:\"100%\",maxWidth:\"400px\",// height: \"428px\",\n// maxHeight: \"428px\",\ntextAlign:\"center\"},loginPaper:{width:\"100%\",padding:\"25px\",textAlign:\"center\"},loginPaperTitle:{marginBottom:\"25px\"},textField:{margin:\"10px 10px 10px 10px\"},submitButton:{margin:\"10px 10px 10px 10px\"}};});var LogIn=function LogIn(){var classes=useStyles();var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),email=_React$useState2[0],setEmail=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),password=_React$useState4[0],setPassword=_React$useState4[1];var auth=getAuth();var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),open=_React$useState6[0],setOpen=_React$useState6[1];var history=useHistory();function signIn(email,password){signInWithEmailAndPassword(auth,email,password).then(function(userData){console.log(userData);if(!userData.user.displayName){history.replace(\"/signup/account-details\");}else{history.replace(\"/\");}}).catch(function(error){console.log(error);var errorMessage=error.message;console.log(errorMessage);setOpen(true);});}function submitLogIn(){return _submitLogIn.apply(this,arguments);}function _submitLogIn(){_submitLogIn=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(email&&password)){_context.next=6;break;}console.log(\"Logging In: \"+email+\" \"+password);_context.next=4;return signIn(email,password);case 4:_context.next=8;break;case 6:console.log(\"Missing Parameters!\");setOpen(true);case 8:case\"end\":return _context.stop();}}},_callee);}));return _submitLogIn.apply(this,arguments);}var Alert=/*#__PURE__*/React.forwardRef(function Alert(props,ref){return/*#__PURE__*/_jsx(MuiAlert,_objectSpread({open:open,elevation:6,ref:ref,variant:\"filled\"},props));});return/*#__PURE__*/_jsxs(\"div\",{className:classes.mainDiv,children:[open?/*#__PURE__*/_jsx(Alert,{onClose:function onClose(){return setOpen(false);},severity:\"error\",style:{width:\"100%\"},children:\"Error Logging In!\"}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsxs(Card,{className:classes.loginPaper,elevation:5,children:[/*#__PURE__*/_jsx(Typography,{className:classes.loginPaperTitle,variant:\"h2\",children:\"Log In\"}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",variant:\"outlined\",label:\"Email\",type:\"email\",onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",variant:\"outlined\",label:\"Password\",type:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(CardActions,{style:{textAlign:\"center\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(Button,{className:classes.submitButton,variant:\"contained\",onClick:function onClick(){return submitLogIn();},children:\"Log In\"})})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"10px\",width:\"100%\",marginLeft:\"15px\",marginRight:\"15px\"},children:[/*#__PURE__*/_jsx(Typography,{style:{marginTop:\"7px\"},children:\"New Around Here?\"}),/*#__PURE__*/_jsx(Button,{style:{margin:\"10px\"},variant:\"contained\",component:Link,to:\"/signup\",children:\"Sign Up\"})]})]});};export default LogIn;","map":{"version":3,"sources":["D:/Code/React/card-collection/src/components/LogIn/LogIn.js"],"names":["Card","CardActions","TextField","Typography","Button","MuiAlert","React","makeStyles","Link","useHistory","getAuth","signInWithEmailAndPassword","useStyles","theme","mainDiv","width","maxWidth","textAlign","loginPaper","padding","loginPaperTitle","marginBottom","textField","margin","submitButton","LogIn","classes","useState","email","setEmail","password","setPassword","auth","open","setOpen","history","signIn","then","userData","console","log","user","displayName","replace","catch","error","errorMessage","message","submitLogIn","Alert","forwardRef","props","ref","e","target","value","justifyContent","marginLeft","marginRight","marginTop"],"mappings":"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","sourcesContent":["import { Card, CardActions, TextField, Typography, Button } from '@mui/material';\r\nimport MuiAlert from \"@mui/material/Alert\";\r\n\r\nimport React from 'react';\r\nimport { makeStyles } from '@mui/styles';\r\n\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    mainDiv: {\r\n        width: \"100%\",\r\n        maxWidth: \"400px\",\r\n        // height: \"428px\",\r\n        // maxHeight: \"428px\",\r\n        textAlign: \"center\",\r\n    },\r\n    loginPaper: {\r\n        width: \"100%\",\r\n        padding: \"25px\",\r\n        textAlign: \"center\",\r\n    },\r\n    loginPaperTitle: {\r\n        marginBottom: \"25px\"\r\n    },\r\n    textField: {\r\n        margin: \"10px 10px 10px 10px\"\r\n    },\r\n    submitButton: {\r\n        margin: \"10px 10px 10px 10px\"\r\n    }\r\n}))\r\n\r\nconst LogIn = () => {\r\n    const classes = useStyles();\r\n    const [email, setEmail] = React.useState(\"\");\r\n    const [password, setPassword] = React.useState(\"\");\r\n    const auth = getAuth();\r\n    const [open, setOpen] = React.useState(false);\r\n    const history = useHistory();\r\n\r\n    function signIn(email, password) {\r\n        signInWithEmailAndPassword(auth, email, password)\r\n            .then((userData) => {\r\n                console.log(userData);\r\n                if (!userData.user.displayName) {\r\n                    history.replace(\"/signup/account-details\")\r\n                } else {\r\n                    history.replace(\"/\")\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                console.log(error);\r\n                const errorMessage = error.message;\r\n                console.log(errorMessage);\r\n                setOpen(true);\r\n            })\r\n    }\r\n\r\n    async function submitLogIn() {\r\n        // console.log(email, password, passwordConfirm);\r\n        if (email && password) {\r\n            console.log(\"Logging In: \" + email + \" \" + password);\r\n            await signIn(email, password);\r\n        } else {\r\n            console.log(\"Missing Parameters!\");\r\n            setOpen(true);\r\n        }\r\n    }\r\n\r\n    const Alert = React.forwardRef(function Alert(props, ref) {\r\n        return <MuiAlert open={open} elevation={6} ref={ref} variant=\"filled\" {...props} />;\r\n    })\r\n\r\n    return (\r\n        <div className={classes.mainDiv}>\r\n            {/* <Snackbar open={open} autoHideDuration={6000} onClose={() => setOpen(false)}> */}\r\n            {open ?\r\n                <Alert onClose={() => setOpen(false)} severity=\"error\" style={{ width: \"100%\" }}>Error Logging In!</Alert>\r\n                : <></>\r\n            }\r\n            {/* </Snackbar> */}\r\n            <Card className={classes.loginPaper} elevation={5}>\r\n                <Typography className={classes.loginPaperTitle} variant=\"h2\">Log In</Typography>\r\n                <TextField margin=\"normal\" variant=\"outlined\" label=\"Email\" type=\"email\" onChange={(e) => setEmail(e.target.value)} />\r\n                <TextField margin=\"normal\" variant=\"outlined\" label=\"Password\" type=\"password\" onChange={(e) => setPassword(e.target.value)} />\r\n                <CardActions style={{ textAlign: \"center\", justifyContent: \"center\" }}>\r\n                    <Button className={classes.submitButton} variant=\"contained\" onClick={() => submitLogIn()}>Log In</Button>\r\n                </CardActions>\r\n            </Card>\r\n            <div style={{ padding: \"10px\", width: \"100%\", marginLeft: \"15px\", marginRight: \"15px\" }}>\r\n                <Typography style={{ marginTop: \"7px\" }}>\r\n                    New Around Here?\r\n                </Typography>\r\n                <Button style={{ margin: \"10px\" }} variant=\"contained\" component={Link} to=\"/signup\">Sign Up</Button>\r\n            </div >\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default LogIn;"]},"metadata":{},"sourceType":"module"}