{"ast":null,"code":"var _jsxFileName = \"D:\\\\Code\\\\React\\\\card-collection\\\\src\\\\components\\\\CardItem\\\\ShatterCard\\\\ShatterCard.js\";\nimport react from 'react';\nimport card_template from \"./card_template.png\";\nimport card_template_face from \"./card_template_face.png\";\nimport blurred_shatter from \"./blurred_shatter.png\";\nimport $ from \"jquery\";\nimport \"./shatterstyle.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ShatterCard = () => {\n  var x;\n  var $cards = $(\".shattercard\");\n  var $style = $(\".shatterhover\");\n  $cards.on(\"mousemove\", function (e) {\n    // normalise touch/mouse\n    var pos = [e.offsetX, e.offsetY];\n    e.preventDefault();\n\n    if (e.type === \"touchmove\") {\n      pos = [e.touches[0].clientX, e.touches[0].clientY];\n    }\n\n    var $card = $(this); // math for mouse position\n\n    var l = pos[0];\n    var t = pos[1];\n    var h = $card.height();\n    var w = $card.width();\n    var px = Math.abs(Math.floor(100 / w * l) - 100);\n    var py = Math.abs(Math.floor(100 / h * t) - 100);\n    var pa = 50 - px + (50 - py); // math for gradient / background positions\n\n    var lp = 50 + (px - 50) / 1.5;\n    var tp = 50 + (py - 50) / 1.5;\n    var px_spark = 50 + (px - 50) / 7;\n    var py_spark = 50 + (py - 50) / 7;\n    var p_opc = 20 + Math.abs(pa) * 1.5;\n    var ty = (tp - 50) / 3.0 * -1;\n    var tx = (lp - 50) / 2.5 * .5; // css to apply for active card\n\n    var grad_pos = `background-position: ${lp}% ${tp}%;`;\n    var sprk_pos = `background-position: ${px_spark}% ${py_spark}%;`;\n    var opc = `opacity: ${p_opc / 100};`;\n    var tf = `transform: rotateX(${ty}deg) rotateY(${tx}deg)`; // need to use a <style> tag for psuedo elements\n\n    var style = `\n      .card:hover:before { ${grad_pos} }  /* gradient */\n      .card:hover:after { ${sprk_pos} ${opc} }   /* sparkles */ \n    `; // set / apply css class and style\n\n    $cards.removeClass(\"active\");\n    $card.removeClass(\"animated\");\n    $card.attr(\"style\", tf);\n    $style.html(style);\n\n    if (e.type === \"touchmove\") {\n      return false;\n    }\n\n    clearTimeout(x);\n  }).on(\"mouseout touchend touchcancel\", function () {\n    // remove css, apply custom animation on end\n    var $card = $(this);\n    $style.html(\"\");\n    $card.removeAttr(\"style\"); // x = setTimeout(function () {\n    //     $card.addClass(\"animated\");\n    // }, 2500);\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: [classes.card, \"shattercard\"].join(\" \")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      className: \"shatterhover\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_c = ShatterCard;\nexport default ShatterCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShatterCard\");","map":{"version":3,"sources":["D:/Code/React/card-collection/src/components/CardItem/ShatterCard/ShatterCard.js"],"names":["react","card_template","card_template_face","blurred_shatter","$","ShatterCard","x","$cards","$style","on","e","pos","offsetX","offsetY","preventDefault","type","touches","clientX","clientY","$card","l","t","h","height","w","width","px","Math","abs","floor","py","pa","lp","tp","px_spark","py_spark","p_opc","ty","tx","grad_pos","sprk_pos","opc","tf","style","removeClass","attr","html","clearTimeout","removeAttr","classes","card","join"],"mappings":"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","sourcesContent":["import react from 'react';\r\nimport card_template from \"./card_template.png\";\r\nimport card_template_face from \"./card_template_face.png\";\r\nimport blurred_shatter from \"./blurred_shatter.png\";\r\n\r\nimport $ from \"jquery\";\r\nimport \"./shatterstyle.scss\";\r\n\r\n\r\n\r\nconst ShatterCard = () => {\r\n\r\n    var x;\r\n    var $cards = $(\".shattercard\");\r\n    var $style = $(\".shatterhover\");\r\n\r\n    $cards\r\n        .on(\"mousemove\", function (e) {\r\n            // normalise touch/mouse\r\n            var pos = [e.offsetX, e.offsetY];\r\n            e.preventDefault();\r\n            if (e.type === \"touchmove\") {\r\n                pos = [e.touches[0].clientX, e.touches[0].clientY];\r\n            }\r\n            var $card = $(this);\r\n            // math for mouse position\r\n            var l = pos[0];\r\n            var t = pos[1];\r\n            var h = $card.height();\r\n            var w = $card.width();\r\n            var px = Math.abs(Math.floor(100 / w * l) - 100);\r\n            var py = Math.abs(Math.floor(100 / h * t) - 100);\r\n            var pa = (50 - px) + (50 - py);\r\n            // math for gradient / background positions\r\n            var lp = (50 + (px - 50) / 1.5);\r\n            var tp = (50 + (py - 50) / 1.5);\r\n            var px_spark = (50 + (px - 50) / 7);\r\n            var py_spark = (50 + (py - 50) / 7);\r\n            var p_opc = 20 + (Math.abs(pa) * 1.5);\r\n            var ty = ((tp - 50) / 3.0) * -1;\r\n            var tx = ((lp - 50) / 2.5) * .5;\r\n            // css to apply for active card\r\n            var grad_pos = `background-position: ${lp}% ${tp}%;`\r\n            var sprk_pos = `background-position: ${px_spark}% ${py_spark}%;`\r\n            var opc = `opacity: ${p_opc / 100};`\r\n            var tf = `transform: rotateX(${ty}deg) rotateY(${tx}deg)`\r\n            // need to use a <style> tag for psuedo elements\r\n            var style = `\r\n      .card:hover:before { ${grad_pos} }  /* gradient */\r\n      .card:hover:after { ${sprk_pos} ${opc} }   /* sparkles */ \r\n    `\r\n            // set / apply css class and style\r\n            $cards.removeClass(\"active\");\r\n            $card.removeClass(\"animated\");\r\n            $card.attr(\"style\", tf);\r\n            $style.html(style);\r\n            if (e.type === \"touchmove\") {\r\n                return false;\r\n            }\r\n            clearTimeout(x);\r\n        }).on(\"mouseout touchend touchcancel\", function () {\r\n            // remove css, apply custom animation on end\r\n            var $card = $(this);\r\n            $style.html(\"\");\r\n            $card.removeAttr(\"style\");\r\n            // x = setTimeout(function () {\r\n            //     $card.addClass(\"animated\");\r\n            // }, 2500);\r\n        });\r\n\r\n    return (\r\n        <>\r\n            <div className={[classes.card, \"shattercard\"].join(\" \")}></div>\r\n            <style className='shatterhover'></style>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default ShatterCard;"]},"metadata":{},"sourceType":"module"}