{"ast":null,"code":"import $ from 'jquery';\nvar x;\nvar $cards = $(\".card\");\nvar $style = $(\".hover\");\n$cards.on(\"mousemove\", function (e) {\n  // normalise touch/mouse\n  var pos = [e.offsetX, e.offsetY];\n  e.preventDefault();\n\n  if (e.type === \"touchmove\") {\n    pos = [e.touches[0].clientX, e.touches[0].clientY];\n  }\n\n  var $card = $(this); // math for mouse position\n\n  var l = pos[0];\n  var t = pos[1];\n  var h = $card.height();\n  var w = $card.width();\n  var px = Math.abs(Math.floor(100 / w * l) - 100);\n  var py = Math.abs(Math.floor(100 / h * t) - 100);\n  var pa = 50 - px + (50 - py); // math for gradient / background positions\n\n  var lp = 50 + (px - 50) / 1.5;\n  var tp = 50 + (py - 50) / 1.5;\n  var px_spark = 50 + (px - 50) / 7;\n  var py_spark = 50 + (py - 50) / 7;\n  var p_opc = 20 + Math.abs(pa) * 1.5;\n  var ty = (tp - 50) / 3.0 * -1;\n  var tx = (lp - 50) / 2.5 * .5; // css to apply for active card\n\n  var grad_pos = `background-position: ${lp}% ${tp}%;`;\n  var sprk_pos = `background-position: ${px_spark}% ${py_spark}%;`;\n  var opc = `opacity: ${p_opc / 100};`;\n  var tf = `transform: rotateX(${ty}deg) rotateY(${tx}deg)`; // need to use a <style> tag for psuedo elements\n\n  var style = `\n  .card:hover:before { ${grad_pos} }  /* gradient */\n  .card:hover:after { ${sprk_pos} ${opc} }   /* sparkles */ \n`; // set / apply css class and style\n\n  $cards.removeClass(\"active\");\n  $card.removeClass(\"animated\");\n  $card.attr(\"style\", tf);\n  $style.html(style);\n\n  if (e.type === \"touchmove\") {\n    return false;\n  }\n\n  clearTimeout(x);\n}).on(\"mouseout touchend touchcancel\", function () {\n  // remove css, apply custom animation on end\n  var $card = $(this);\n  $style.html(\"\");\n  $card.removeAttr(\"style\"); // x = setTimeout(function () {\n  //     $card.addClass(\"animated\");\n  // }, 2500);\n});","map":{"version":3,"sources":["D:/Code/React/card-collection/src/components/CardItem/TestCard/hoverscript.js"],"names":["$","x","$cards","$style","on","e","pos","offsetX","offsetY","preventDefault","type","touches","clientX","clientY","$card","l","t","h","height","w","width","px","Math","abs","floor","py","pa","lp","tp","px_spark","py_spark","p_opc","ty","tx","grad_pos","sprk_pos","opc","tf","style","removeClass","attr","html","clearTimeout","removeAttr"],"mappings":"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","sourcesContent":["import $ from 'jquery';\r\n\r\nvar x;\r\nvar $cards = $(\".card\");\r\nvar $style = $(\".hover\");\r\n\r\n$cards\r\n    .on(\"mousemove\", function (e) {\r\n        // normalise touch/mouse\r\n        var pos = [e.offsetX, e.offsetY];\r\n        e.preventDefault();\r\n        if (e.type === \"touchmove\") {\r\n            pos = [e.touches[0].clientX, e.touches[0].clientY];\r\n        }\r\n        var $card = $(this);\r\n        // math for mouse position\r\n        var l = pos[0];\r\n        var t = pos[1];\r\n        var h = $card.height();\r\n        var w = $card.width();\r\n        var px = Math.abs(Math.floor(100 / w * l) - 100);\r\n        var py = Math.abs(Math.floor(100 / h * t) - 100);\r\n        var pa = (50 - px) + (50 - py);\r\n        // math for gradient / background positions\r\n        var lp = (50 + (px - 50) / 1.5);\r\n        var tp = (50 + (py - 50) / 1.5);\r\n        var px_spark = (50 + (px - 50) / 7);\r\n        var py_spark = (50 + (py - 50) / 7);\r\n        var p_opc = 20 + (Math.abs(pa) * 1.5);\r\n        var ty = ((tp - 50) / 3.0) * -1;\r\n        var tx = ((lp - 50) / 2.5) * .5;\r\n        // css to apply for active card\r\n        var grad_pos = `background-position: ${lp}% ${tp}%;`\r\n        var sprk_pos = `background-position: ${px_spark}% ${py_spark}%;`\r\n        var opc = `opacity: ${p_opc / 100};`\r\n        var tf = `transform: rotateX(${ty}deg) rotateY(${tx}deg)`\r\n        // need to use a <style> tag for psuedo elements\r\n        var style = `\r\n  .card:hover:before { ${grad_pos} }  /* gradient */\r\n  .card:hover:after { ${sprk_pos} ${opc} }   /* sparkles */ \r\n`\r\n        // set / apply css class and style\r\n        $cards.removeClass(\"active\");\r\n        $card.removeClass(\"animated\");\r\n        $card.attr(\"style\", tf);\r\n        $style.html(style);\r\n        if (e.type === \"touchmove\") {\r\n            return false;\r\n        }\r\n        clearTimeout(x);\r\n    }).on(\"mouseout touchend touchcancel\", function () {\r\n        // remove css, apply custom animation on end\r\n        var $card = $(this);\r\n        $style.html(\"\");\r\n        $card.removeAttr(\"style\");\r\n        // x = setTimeout(function () {\r\n        //     $card.addClass(\"animated\");\r\n        // }, 2500);\r\n    });"]},"metadata":{},"sourceType":"module"}