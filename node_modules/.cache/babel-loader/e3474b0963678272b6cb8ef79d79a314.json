{"ast":null,"code":"import _regeneratorRuntime from\"D:/Code/React/card-collection/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Code/React/card-collection/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Code/React/card-collection/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import Header from'../components/Header/Header';import InventoryFrame from'../components/Inventory/InventoryFrame';import{db}from\"../firebase/firebase\";import{doc,getDoc}from\"firebase/firestore\";import{useSelector}from\"react-redux\";import*as actions from\"../store/cards/cards.action\";import{useDispatch}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var InventoryContainer=function InventoryContainer(){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),searched=_React$useState2[0],setSearched=_React$useState2[1];var dispatch=useDispatch();var _useSelector=useSelector(function(state){return{inventoryData:state.cards.inventory};}),inventoryData=_useSelector.inventoryData;getInventory();function getInventory(){return _getInventory.apply(this,arguments);}function _getInventory(){_getInventory=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var docRef,docSnap;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(inventoryData!==null&searched)){_context.next=4;break;}return _context.abrupt(\"return\");case 4:docRef=doc(db,\"users\",\"inventory\");_context.next=7;return getDoc(docRef);case 7:docSnap=_context.sent;if(!docSnap.exists()){_context.next=15;break;}console.log(\"Doc Data: \",docSnap.data());setSearched(true);dispatch(actions.loadInventoryData(docSnap.data()));return _context.abrupt(\"return\",docSnap.data());case 15:console.log(\"no such data\");case 16:case\"end\":return _context.stop();}}},_callee);}));return _getInventory.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{style:{width:\"100%\",display:\"flex\",justifyContent:\"center\",marginTop:\"20px\"},children:/*#__PURE__*/_jsx(InventoryFrame,{inventory:inventoryData})})]});};export default InventoryContainer;","map":{"version":3,"sources":["D:/Code/React/card-collection/src/containers/InventoryContainer.js"],"names":["React","Header","InventoryFrame","db","doc","getDoc","useSelector","actions","useDispatch","InventoryContainer","useState","searched","setSearched","dispatch","state","inventoryData","cards","inventory","getInventory","docRef","docSnap","exists","console","log","data","loadInventoryData","width","display","justifyContent","marginTop"],"mappings":"ybAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,6BAAnB,CACA,MAAOC,CAAAA,cAAP,KAA2B,wCAA3B,CACA,OAASC,EAAT,KAAmB,sBAAnB,CAEA,OAASC,GAAT,CAAcC,MAAd,KAA4B,oBAA5B,CAEA,OAASC,WAAT,KAA4B,aAA5B,CAEA,MAAO,GAAKC,CAAAA,OAAZ,KAAyB,6BAAzB,CACA,OAASC,WAAT,KAA4B,aAA5B,C,wFAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC7B,oBAAgCT,KAAK,CAACU,QAAN,CAAe,KAAf,CAAhC,oDAAOC,QAAP,qBAAiBC,WAAjB,qBACA,GAAMC,CAAAA,QAAQ,CAAGL,WAAW,EAA5B,CACA,iBAA0BF,WAAW,CAAC,SAACQ,KAAD,QAAY,CAC9CC,aAAa,CAAED,KAAK,CAACE,KAAN,CAAYC,SADmB,CAAZ,EAAD,CAArC,CAAQF,aAAR,cAAQA,aAAR,CAGAG,YAAY,GANiB,QAQdA,CAAAA,YARc,8IAQ7B,2JACQH,aAAa,GAAK,IAAlB,CAAyBJ,QADjC,kEAIcQ,MAJd,CAIuBf,GAAG,CAACD,EAAD,CAAK,OAAL,CAAc,WAAd,CAJ1B,uBAK8BE,CAAAA,MAAM,CAACc,MAAD,CALpC,QAKcC,OALd,mBAOYA,OAAO,CAACC,MAAR,EAPZ,0BAQYC,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BH,OAAO,CAACI,IAAR,EAA1B,EACAZ,WAAW,CAAC,IAAD,CAAX,CACAC,QAAQ,CAACN,OAAO,CAACkB,iBAAR,CAA0BL,OAAO,CAACI,IAAR,EAA1B,CAAD,CAAR,CAVZ,gCAWmBJ,OAAO,CAACI,IAAR,EAXnB,UAaYF,OAAO,CAACC,GAAR,CAAY,cAAZ,EAbZ,uDAR6B,+CA2B7B,mBACI,oCACI,KAAC,MAAD,IADJ,cAEI,YAAK,KAAK,CAAE,CAAEG,KAAK,CAAE,MAAT,CAAiBC,OAAO,CAAE,MAA1B,CAAkCC,cAAc,CAAE,QAAlD,CAA4DC,SAAS,CAAE,MAAvE,CAAZ,uBACI,KAAC,cAAD,EAAgB,SAAS,CAAEd,aAA3B,EADJ,EAFJ,GADJ,CAQH,CAnCD,CAqCA,cAAeN,CAAAA,kBAAf","sourcesContent":["import React from 'react';\r\nimport Header from '../components/Header/Header';\r\nimport InventoryFrame from '../components/Inventory/InventoryFrame';\r\nimport { db } from \"../firebase/firebase\";\r\n\r\nimport { doc, getDoc } from \"firebase/firestore\";\r\n\r\nimport { useSelector } from \"react-redux\";\r\n\r\nimport * as actions from \"../store/cards/cards.action\";\r\nimport { useDispatch } from 'react-redux';\r\n\r\nconst InventoryContainer = () => {\r\n    const [searched, setSearched] = React.useState(false);\r\n    const dispatch = useDispatch();\r\n    const { inventoryData } = useSelector((state) => ({\r\n        inventoryData: state.cards.inventory,\r\n    }))\r\n    getInventory();\r\n\r\n    async function getInventory() {\r\n        if (inventoryData !== null & searched) {\r\n            return\r\n        } else {\r\n            const docRef = doc(db, \"users\", \"inventory\");\r\n            const docSnap = await getDoc(docRef);\r\n\r\n            if (docSnap.exists()) {\r\n                console.log(\"Doc Data: \", docSnap.data());\r\n                setSearched(true);\r\n                dispatch(actions.loadInventoryData(docSnap.data()));\r\n                return docSnap.data();\r\n            } else {\r\n                console.log(\"no such data\")\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <div style={{ width: \"100%\", display: \"flex\", justifyContent: \"center\", marginTop: \"20px\" }}>\r\n                <InventoryFrame inventory={inventoryData} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default InventoryContainer"]},"metadata":{},"sourceType":"module"}